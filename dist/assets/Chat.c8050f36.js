import{ar as E,as as I,at as Pe,au as ge,av as Ve,o as l,n as m,af as D,ag as $,f as s,y as p,F as k,v as N,J as Z,aw as Ue,L as y,ac as le,ad as ne,X as F,Y as P,ax as ue,ay as q,az as Ee,aA as Y,a as o,w as u,aB as Oe,am as ve,h as b,aC as Re,c as S,aD as Be,P as he,aE as je,ah as pe,m as te,aF as ae,b as z,u as _,e as oe,aG as ee,aH as Le,r as He,ae as xe,T as W,aI as ze,aJ as We,a4 as V,aK as j,aL as se,aM as J,aN as Ge,aO as Xe,aP as qe,aQ as Ye,s as L,d as H,g as A,D as U,l as _e,aR as K,j as Q,aS as Je,t as Ke,aT as ce,Q as Qe,M as Ze,B as et,aU as tt,aV as at,p as ye,aW as Ce,aX as be,ab as Se,V as Ie,aY as Me}from"./index.035842d5.js";import{_ as x}from"./plugin-vue_export-helper.21dcd24c.js";import{B as st}from"./BaseLeftRightPart.4ed0c5bc.js";import{u as ot}from"./chatSidebar.6c7bc060.js";function ie(e,t){E(2,arguments);var a=I(e),i=I(t),n=a.getTime()-i.getTime();return n<0?-1:n>0?1:n}function it(e,t){E(2,arguments);var a=I(e),i=I(t),n=a.getFullYear()-i.getFullYear(),c=a.getMonth()-i.getMonth();return n*12+c}function lt(e,t){return E(2,arguments),I(e).getTime()-I(t).getTime()}var we={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(t){return t<0?Math.ceil(t):Math.floor(t)}},nt="trunc";function rt(e){return e?we[e]:we[nt]}function dt(e){E(1,arguments);var t=I(e);return t.setHours(23,59,59,999),t}function ut(e){E(1,arguments);var t=I(e),a=t.getMonth();return t.setFullYear(t.getFullYear(),a+1,0),t.setHours(23,59,59,999),t}function ct(e){E(1,arguments);var t=I(e);return dt(t).getTime()===ut(t).getTime()}function mt(e,t){E(2,arguments);var a=I(e),i=I(t),n=ie(a,i),c=Math.abs(it(a,i)),r;if(c<1)r=0;else{a.getMonth()===1&&a.getDate()>27&&a.setDate(30),a.setMonth(a.getMonth()-n*c);var g=ie(a,i)===-n;ct(I(e))&&c===1&&ie(e,i)===1&&(g=!1),r=n*(c-Number(g))}return r===0?0:r}function ht(e,t,a){E(2,arguments);var i=lt(e,t)/1e3;return rt(a==null?void 0:a.roundingMethod)(i)}function De(e,t){if(e==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}function pt(e){return De({},e)}var Te=1440,ft=2520,me=43200,gt=86400;function vt(e,t,a){var i,n;E(2,arguments);var c=Ve(),r=(i=(n=a==null?void 0:a.locale)!==null&&n!==void 0?n:c.locale)!==null&&i!==void 0?i:Pe;if(!r.formatDistance)throw new RangeError("locale must contain formatDistance property");var g=ie(e,t);if(isNaN(g))throw new RangeError("Invalid time value");var f=De(pt(a),{addSuffix:Boolean(a==null?void 0:a.addSuffix),comparison:g}),M,w;g>0?(M=I(t),w=I(e)):(M=I(e),w=I(t));var O=ht(w,M),re=(ge(w)-ge(M))/1e3,C=Math.round((O-re)/60),R;if(C<2)return a!=null&&a.includeSeconds?O<5?r.formatDistance("lessThanXSeconds",5,f):O<10?r.formatDistance("lessThanXSeconds",10,f):O<20?r.formatDistance("lessThanXSeconds",20,f):O<40?r.formatDistance("halfAMinute",0,f):O<60?r.formatDistance("lessThanXMinutes",1,f):r.formatDistance("xMinutes",1,f):C===0?r.formatDistance("lessThanXMinutes",1,f):r.formatDistance("xMinutes",C,f);if(C<45)return r.formatDistance("xMinutes",C,f);if(C<90)return r.formatDistance("aboutXHours",1,f);if(C<Te){var d=Math.round(C/60);return r.formatDistance("aboutXHours",d,f)}else{if(C<ft)return r.formatDistance("xDays",1,f);if(C<me){var B=Math.round(C/Te);return r.formatDistance("xDays",B,f)}else if(C<gt)return R=Math.round(C/me),r.formatDistance("aboutXMonths",R,f)}if(R=mt(w,M),R<12){var G=Math.round(C/me);return r.formatDistance("xMonths",G,f)}else{var X=R%12,v=Math.floor(R/12);return X<3?r.formatDistance("aboutXYears",v,f):X<9?r.formatDistance("overXYears",v,f):r.formatDistance("almostXYears",v+1,f)}}const _t={name:"VueUploadImages",data(){return{error:"",files:[],dropped:0,Imgs:[]}},props:{max:Number,uploadMsg:String,maxError:String,fileError:String,clearAll:String},methods:{dragOver(){this.dropped=2},dragLeave(){},drop(e){let t=!0,a=Array.from(e.dataTransfer.files);e&&a&&(a.forEach(i=>{i.type.startsWith("image")===!1&&(t=!1)}),t==!0?this.$props.max&&a.length+this.files.length>this.$props.max?this.error=this.$props.maxError?this.$props.maxError:"Maximum files is"+this.$props.max:(this.files.push(...a),this.previewImgs()):this.error=this.$props.fileError?this.$props.fileError:"Unsupported file type"),this.dropped=0},append(){this.$refs.uploadInput.click()},readAsDataURL(e){return new Promise(function(t,a){let i=new FileReader;i.onload=function(){t(i.result)},i.onerror=function(){a(i)},i.readAsDataURL(e)})},deleteImg(e){this.Imgs.splice(e,1),this.files.splice(e,1),this.$emit("changed",this.files),this.$refs.uploadInput.value=null},previewImgs(e){if(this.$props.max&&e&&e.currentTarget.files.length+this.files.length>this.$props.max){this.error=this.$props.maxError?this.$props.maxError:"Maximum files is"+this.$props.max;return}this.dropped==0&&this.files.push(...e.currentTarget.files),this.error="",this.$emit("changed",this.files);let t=[];if(!!this.files.length){for(let a=0;a<this.files.length;a++)t.push(this.readAsDataURL(this.files[a]));Promise.all(t).then(a=>{this.Imgs=a})}},reset(){this.$refs.uploadInput.value=null,this.Imgs=[],this.files=[],this.$emit("changed",this.files)}}},yt=e=>(le("data-v-156ecacc"),e=e(),ne(),e),Ct={class:"drop"},bt={class:"beforeUpload"},St=Ue('<svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" data-v-156ecacc><title data-v-156ecacc>Upload Image</title><g id="Upload_Image" data-name="Upload Image" data-v-156ecacc><g id="_Group_" data-name="&lt;Group&gt;" data-v-156ecacc><g id="_Group_2" data-name="&lt;Group&gt;" data-v-156ecacc><g id="_Group_3" data-name="&lt;Group&gt;" data-v-156ecacc><circle id="_Path_" data-name="&lt;Path&gt;" cx="18.5" cy="16.5" r="5" style="fill:none;stroke:#303c42;stroke-linecap:round;stroke-linejoin:round;" data-v-156ecacc></circle></g><polyline id="_Path_2" data-name="&lt;Path&gt;" points="16.5 15.5 18.5 13.5 20.5 15.5" style="fill:none;stroke:#303c42;stroke-linecap:round;stroke-linejoin:round;" data-v-156ecacc></polyline><line id="_Path_3" data-name="&lt;Path&gt;" x1="18.5" y1="13.5" x2="18.5" y2="19.5" style="fill:none;stroke:#303c42;stroke-linecap:round;stroke-linejoin:round;" data-v-156ecacc></line></g><g id="_Group_4" data-name="&lt;Group&gt;" data-v-156ecacc><polyline id="_Path_4" data-name="&lt;Path&gt;" points="0.6 15.42 6 10.02 8.98 13" style="fill:none;stroke:#303c42;stroke-linecap:round;stroke-linejoin:round;" data-v-156ecacc></polyline><polyline id="_Path_5" data-name="&lt;Path&gt;" points="17.16 11.68 12.5 7.02 7.77 11.79" style="fill:none;stroke:#303c42;stroke-linecap:round;stroke-linejoin:round;" data-v-156ecacc></polyline><circle id="_Path_6" data-name="&lt;Path&gt;" cx="8" cy="6.02" r="1.5" style="fill:none;stroke:#303c42;stroke-linecap:round;stroke-linejoin:round;" data-v-156ecacc></circle><path id="_Path_7" data-name="&lt;Path&gt;" d="M19.5,11.6V4A1.5,1.5,0,0,0,18,2.5H2A1.5,1.5,0,0,0,.5,4V15A1.5,1.5,0,0,0,2,16.5H13.5" style="fill:none;stroke:#303c42;stroke-linecap:round;stroke-linejoin:round;" data-v-156ecacc></path></g></g></g></svg>',1),It={class:"mainMessage"},Mt={class:"imgsPreview"},wt=["src"],Tt=["onClick"],kt=yt(()=>s("svg",{class:"icon",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[s("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})],-1)),Lt=[kt];function Dt(e,t,a,i,n,c){return l(),m("div",{class:"container",onDragover:t[3]||(t[3]=Z((...r)=>c.dragOver&&c.dragOver(...r),["prevent"])),onDragleave:t[4]||(t[4]=Z((...r)=>c.dragLeave&&c.dragLeave(...r),["prevent"])),onDrop:t[5]||(t[5]=Z(r=>c.drop(r),["prevent"]))},[D(s("div",Ct,null,512),[[$,n.dropped==2]]),D(s("div",{class:"error"},p(n.error),513),[[$,n.error]]),D(s("div",bt,[s("input",{type:"file",style:{"z-index":"1"},accept:"image/*",ref:"uploadInput",onChange:t[0]||(t[0]=(...r)=>c.previewImgs&&c.previewImgs(...r)),multiple:""},null,544),St,s("p",It,p(a.uploadMsg?a.uploadMsg:"Click to upload or drop your images here"),1)],512),[[$,n.Imgs.length==0]]),D(s("div",Mt,[s("button",{type:"button",class:"clearButton",onClick:t[1]||(t[1]=(...r)=>c.reset&&c.reset(...r))},p(a.clearAll?a.clearAll:"clear All"),1),(l(!0),m(k,null,N(n.Imgs,(r,g)=>(l(),m("div",{class:"imageHolder",key:g},[s("img",{src:r},null,8,wt),s("span",{class:"delete",style:{color:"white"},onClick:f=>c.deleteImg(--g)},Lt,8,Tt),++g==n.Imgs.length?(l(),m("div",{key:0,class:"plus",onClick:t[2]||(t[2]=(...f)=>c.append&&c.append(...f))},"+")):y("",!0)]))),128))],512),[[$,n.Imgs.length>0]])],32)}var At=x(_t,[["render",Dt],["__scopeId","data-v-156ecacc"]]),ke={create(e){return F.post(P.DASHBOARD_BASE_URL+"/api/files",e,{headers:{"Content-Type":"multipart/form-data"}})}},$t={list(e={sort:"name",order:"1"}){return F.get(P.DASHBOARD_BASE_URL+"/api/messages",{params:e})},listByChat(e={sort:"name",order:"1"}){return F.get(P.DASHBOARD_BASE_URL+"/api/messages/list-by-chat",{params:e})},update(e,t){return F.put(P.DASHBOARD_BASE_URL+`/api/messages/${e}`,t)},create(e){return F.post(P.DASHBOARD_BASE_URL+"/api/messages",e)},delete(e){return F.delete(P.DASHBOARD_BASE_URL+`/api/messages/${e}`)}},Nt={list(e){return e&&!e.sort&&!e.order&&(e.sort="createdAt",e.order="desc"),F.get(P.DASHBOARD_BASE_URL+"/api/equipos-de-ventas",{params:e})},update(e,t){return F.put(P.DASHBOARD_BASE_URL+`/api/equipos-de-ventas/${e}`,t)},create(e){return F.post(P.DASHBOARD_BASE_URL+"/api/equipos-de-ventas",e)},delete(e){return F.delete(P.DASHBOARD_BASE_URL+`/api/equipos-de-ventas/${e}`)}},Ft={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 d\xEDa",other:"{{count}} d\xEDas"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 a\xF1o",other:"alrededor de {{count}} a\xF1os"},xYears:{one:"1 a\xF1o",other:"{{count}} a\xF1os"},overXYears:{one:"m\xE1s de 1 a\xF1o",other:"m\xE1s de {{count}} a\xF1os"},almostXYears:{one:"casi 1 a\xF1o",other:"casi {{count}} a\xF1os"}},Pt=function(t,a,i){var n,c=Ft[t];return typeof c=="string"?n=c:a===1?n=c.one:n=c.other.replace("{{count}}",a.toString()),i!=null&&i.addSuffix?i.comparison&&i.comparison>0?"en "+n:"hace "+n:n},Vt=Pt,Ut={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},Et={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Ot={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Rt={date:ue({formats:Ut,defaultWidth:"full"}),time:ue({formats:Et,defaultWidth:"full"}),dateTime:ue({formats:Ot,defaultWidth:"full"})},Bt=Rt,jt={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'ma\xF1ana a la' p",nextWeek:"eeee 'a la' p",other:"P"},Ht={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'ma\xF1ana a las' p",nextWeek:"eeee 'a las' p",other:"P"},xt=function(t,a,i,n){return a.getUTCHours()!==1?Ht[t]:jt[t]},zt=xt,Wt={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despu\xE9s de cristo"]},Gt={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1\xBA trimestre","2\xBA trimestre","3\xBA trimestre","4\xBA trimestre"]},Xt={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},qt={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s\xE1"],abbreviated:["dom","lun","mar","mi\xE9","jue","vie","s\xE1b"],wide:["domingo","lunes","martes","mi\xE9rcoles","jueves","viernes","s\xE1bado"]},Yt={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"ma\xF1ana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"ma\xF1ana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"ma\xF1ana",afternoon:"tarde",evening:"tarde",night:"noche"}},Jt={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la ma\xF1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xF1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la ma\xF1ana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},Kt=function(t,a){var i=Number(t);return i+"\xBA"},Qt={ordinalNumber:Kt,era:q({values:Wt,defaultWidth:"wide"}),quarter:q({values:Gt,defaultWidth:"wide",argumentCallback:function(t){return Number(t)-1}}),month:q({values:Xt,defaultWidth:"wide"}),day:q({values:qt,defaultWidth:"wide"}),dayPeriod:q({values:Yt,defaultWidth:"wide",formattingValues:Jt,defaultFormattingWidth:"wide"})},Zt=Qt,ea=/^(\d+)(º)?/i,ta=/\d+/i,aa={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[uú]n|despu[eé]s de cristo|era com[uú]n)/i},sa={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[uú]n)/i,/^(despu[eé]s de cristo|era com[uú]n)/i]},oa={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234](º)? trimestre/i},ia={any:[/1/i,/2/i,/3/i,/4/i]},la={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},na={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},ra={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[áa])/i,abbreviated:/^(dom|lun|mar|mi[ée]|jue|vie|s[áa]b)/i,wide:/^(domingo|lunes|martes|mi[ée]rcoles|jueves|viernes|s[áa]bado)/i},da={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},ua={narrow:/^(a|p|mn|md|(de la|a las) (mañana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (mañana|tarde|noche))/i},ca={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/mañana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},ma={ordinalNumber:Ee({matchPattern:ea,parsePattern:ta,valueCallback:function(t){return parseInt(t,10)}}),era:Y({matchPatterns:aa,defaultMatchWidth:"wide",parsePatterns:sa,defaultParseWidth:"any"}),quarter:Y({matchPatterns:oa,defaultMatchWidth:"wide",parsePatterns:ia,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Y({matchPatterns:la,defaultMatchWidth:"wide",parsePatterns:na,defaultParseWidth:"any"}),day:Y({matchPatterns:ra,defaultMatchWidth:"wide",parsePatterns:da,defaultParseWidth:"any"}),dayPeriod:Y({matchPatterns:ua,defaultMatchWidth:"any",parsePatterns:ca,defaultParseWidth:"any"})},ha=ma,pa={code:"es",formatDistance:Vt,formatLong:Bt,formatRelative:zt,localize:Zt,match:ha,options:{weekStartsOn:1,firstWeekContainsDate:1}},fa=pa;const ga={data(){return{loading:!1,nextItem:1,items:[]}},mounted(){const e=document.querySelector("#infinite-list");e.addEventListener("scroll",()=>{e.scrollTop+e.clientHeight>=e.scrollHeight*.7&&(this.loadMore(),this.$emit("loadMore"))}),this.$emit("loadMore")},methods:{loadMore(){this.loading=!0,setTimeout(()=>{for(var e=0;e<100;e++)this.items.push("Item "+this.nextItem++);this.loading=!1},200)}}},va=e=>(le("data-v-49c920c6"),e=e(),ne(),e),_a={class:"list-group-wrapper"},ya={class:"loading"},Ca=va(()=>s("span",{class:"fa fa-spinner fa-spin"},null,-1)),ba={class:"list-group",id:"infinite-list"};function Sa(e,t,a,i,n,c){return l(),m("div",_a,[o(Oe,{name:"fade"},{default:u(()=>[D(s("div",ya,[Ca,b(" Cargando ")],512),[[$,n.loading]])]),_:1}),ve(e.$slots,"loading",{},void 0,!0),s("ul",ba,[s("div",null,[ve(e.$slots,"default",{},void 0,!0)])])])}var Ia=x(ga,[["render",Sa],["__scopeId","data-v-49c920c6"]]);const Ma={props:{telefonoId:{type:String,default:"Sin valor"}},data(){return{telefonos:[],search:""}},mounted(){this.initialize()},methods:{async initialize(){await Promise.all([this.$store.dispatch("telefonosModule/list")]),this.telefonos=this.$store.state.telefonosModule.telefonos.filter(e=>e.active==!0&&e.agenteId!=null)},onSelectedAgent(e){const t=this.telefonos.find(a=>a._id==e.target.value);this.$emit("onSelectedAgent",t)}}},wa=e=>(le("data-v-21c36db4"),e=e(),ne(),e),Ta=wa(()=>s("option",{value:"Sin valor"},"Sin agente",-1)),ka=["value"];function La(e,t,a,i,n,c){return l(),m("div",null,[D(s("select",{style:{width:"auto"},onChange:t[0]||(t[0]=r=>c.onSelectedAgent(r)),"onUpdate:modelValue":t[1]||(t[1]=r=>a.telefonoId=r)},[Ta,(l(!0),m(k,null,N(n.telefonos,r=>(l(),m("option",{value:r._id,key:r._id},p(r.agenteId.nombre)+" ("+p(r.numero)+") ",9,ka))),128))],544),[[Re,a.telefonoId]])])}var Da=x(Ma,[["render",La],["__scopeId","data-v-21c36db4"]]);const Aa={props:{initialData:{type:Array,default:()=>[]}},data(){return{disabled:!1,todofullLabels:[],selectedTodofullLabels:[],searchLabel:"",isInidialDataLoading:!1,isInitialDataExecuted:!1}},watch:{selectedTodofullLabels:{handler(e,t){this.searchLabel="",this.$emit("onSelectTodofullLabels",JSON.parse(JSON.stringify(this.selectedTodofullLabels))),this.disabled=!0,setTimeout(()=>{this.disabled=!1},0)},deep:!0}},async mounted(){this.selectedTodofullLabels=this.initialData.map(e=>e._id),this.$store.state.todofullLabelsModule.todofullLabels.length===0&&await this.$store.dispatch("todofullLabelsModule/list",{sort:"name",order:"asc"}),this.todofullLabels=this.$store.state.todofullLabelsModule.todofullLabels.map(e=>({value:e._id,title:e.name}))},methods:{async removeLabels(e,t){e.splice(e.findIndex(a=>a._id===t._id),1),this.$emit("onSelectTodofullLabels",this.selectedTodofullLabels)},getLabelTitle(e){const t=this.todofullLabels.find(a=>a.value==e);return t?t.title:""}}};function $a(e,t,a,i,n,c){return l(),S(Be,{"hide-details":"",variant:"outlined",disabled:n.disabled,placeholder:"Selecciona las etiquetas",class:"mt-3","search-input":n.searchLabel,modelValue:n.selectedTodofullLabels,"onUpdate:modelValue":t[1]||(t[1]=r=>n.selectedTodofullLabels=r),items:n.todofullLabels,multiple:"","no-data-text":"No se encontraron etiquetas",outlined:""},{selection:u(r=>[o(he,{close:"","onClick:close":t[0]||(t[0]=g=>c.removeLabels(n.selectedTodofullLabels,e.item)),color:"primary"},{default:u(()=>[s("strong",null,p(c.getLabelTitle(r.item.value)),1)]),_:2},1024)]),_:1},8,["disabled","search-input","modelValue","items"])}var Na=x(Aa,[["render",$a]]);const Fa={props:{millis:{type:Number,default:24*60*60*1e3}},data(){return{hours:0,minute:0,seconds:0}},mounted(){console.log("montando timer..."),this.startTimer()},methods:{startTimer(){const e=this.millis;let[t,a,i]=je(e).split(":");setInterval(()=>{i--,i<0&&(i=59,a--),a<0&&(a=59,t--),t<0&&(t=0,a=0,i=0),this.hours=t,this.minute=a,this.seconds=i},1e3)}}},Ae=e=>(le("data-v-e58c992c"),e=e(),ne(),e),Pa={class:"timer"},Va={class:"timer__part timer__part--minutes"},Ua=Ae(()=>s("span",{class:"timer__part"},":",-1)),Ea={class:"timer__part timer__part--minutes"},Oa=Ae(()=>s("span",{class:"timer__part"},":",-1)),Ra={class:"timer__part timer__part--seconds"};function Ba(e,t,a,i,n,c){return l(),m("div",Pa,[s("span",Va,p(n.hours),1),Ua,s("span",Ea,p(n.minute),1),Oa,s("span",Ra,p(n.seconds),1)])}var ja=x(Fa,[["render",Ba],["__scopeId","data-v-e58c992c"]]);const Ha={props:{initialData:{type:Object,default:{}}},data(){return{disabled:!1,negotiationStatuses:[],selectedNegotiationStatuses:[],searchLabel:"",isInidialDataLoading:!1,isInitialDataExecuted:!1}},watch:{selectedNegotiationStatuses:{handler(e,t){this.searchLabel="",this.$emit("onSelectNegotiationStatuses",this.selectedNegotiationStatuses?JSON.parse(JSON.stringify(this.selectedNegotiationStatuses)):null),this.disabled=!0,setTimeout(()=>{this.disabled=!1},0)},deep:!0}},async mounted(){this.initialData&&(this.selectedNegotiationStatuses=this.initialData._id),this.$store.state.negotiationStatusesModule.negotiationStatuses.length===0&&await this.$store.dispatch("negotiationStatusesModule/list",{sort:"name",order:"asc"}),this.negotiationStatuses=this.$store.state.negotiationStatusesModule.negotiationStatuses.map(e=>({value:e._id,title:e.name})),console.log("\u{1F680} Aqui *** -> this.negotiationStatuses",this.negotiationStatuses)},methods:{async removeLabels(e,t){e.splice(e.findIndex(a=>a._id===t._id),1),this.$emit("onSelectNegotiationStatuses",this.selectedNegotiationStatuses)},getLabelTitle(e){const t=this.negotiationStatuses.find(a=>a.value==e);return t?t.title:""}}};function xa(e,t,a,i,n,c){return l(),S(pe,{"hide-details":"",variant:"outlined",disabled:n.disabled,placeholder:"Selecciona el estado de negociaci\xF3n",class:"mt-3",modelValue:n.selectedNegotiationStatuses,"onUpdate:modelValue":t[0]||(t[0]=r=>n.selectedNegotiationStatuses=r),items:n.negotiationStatuses,"no-data-text":"No se encontraron estados de negociaci\xF3n",outlined:"",clearable:""},null,8,["disabled","modelValue","items"])}var za=x(Ha,[["render",xa]]),Wa="/assets/peru.8bbdf29e.png",Ga="/assets/chile.1d0a554d.png",Xa="/assets/colombia.1f1423ca.png";const qa=["src"],Ya=["innerHTML"],Ja=["innerHTML"],Ka=te({__name:"Referral",props:{message:{type:Object,default:()=>({})}},setup(e){const t=e,{message:a}=ae(t);function i(n){window.open(n,"_blank")}return(n,c)=>(l(),m(k,null,[o(oe,{style:{cursor:"pointer"},onClick:c[0]||(c[0]=r=>i(_(a).payload.source_url))},{default:u(()=>[o(z,{cols:"12",sm:"3"},{default:u(()=>[s("img",{style:{height:"100%"},src:_(a).payload.image_url},null,8,qa)]),_:1}),o(z,{cols:"12",sm:"9"},{default:u(()=>[s("b",null,p(_(a).payload.headline),1),s("div",{style:{overflow:"hidden"},innerHTML:_(ee)(_(a).payload.body.substring(0,90)+"..."),ref:"target"},null,8,Ya)]),_:1})]),_:1}),s("div",{class:"mt-2",innerHTML:_(ee)(_(a).text),ref:"target"},null,8,Ja)],64))}});var $e=Ka;const Qa={controls:""},Za=["src"],es=te({__name:"AudioChat",props:{message:{type:Object,default:()=>({})}},setup(e){const t=e,{message:a}=ae(t);return(i,n)=>(l(),m("audio",Qa,[s("source",{src:_(a).payload.url,type:"audio/mp3"},null,8,Za),b(" Tu navegador no soporta audio HTML5. ")]))}});var Ne=es;const ts=s("i",{class:"mr-2 mdi text-h5 mdi-file"},null,-1),as=["href"],ss=te({__name:"FileChat",props:{message:{type:Object,default:()=>({})}},setup(e){const t=e,{message:a}=ae(t);return(i,n)=>(l(),m(k,null,[ts,s("a",{target:"_blank",href:_(a).payload.url},p(_(Le)(_(a).payload.url)),9,as)],64))}});var Fe=ss;const os=["src"],is=te({__name:"ImageChat",props:{message:{type:Object,default:()=>({})}},setup(e){const t=e,{message:a}=ae(t);return(i,n)=>(l(),m("img",{src:_(a).payload.url},null,8,os))}});var fe=is;const ls={key:0},ns=s("b",{class:"mb-1"},"Hice un comentario en esta historia ",-1),rs=["src"],ds={key:1},us={key:0,style:{color:"#06cf9c"}},cs={key:1,style:{color:"#53bdeb"}},ms=["innerHTML"],hs=["innerHTML"],ps=te({__name:"TextMessageChat",props:{message:{type:Object,default:()=>({})},messages:{type:Array,default:()=>[]}},emits:["goToMessage"],setup(e,{emit:t}){const a=e,{message:i,messages:n}=ae(a),c=He({});xe(()=>{const f=i.value.context;f&&(c.value=r(f.id))});function r(f){return n.value.find(M=>M.mid===f)}function g(f){const M=f.type;let w;if(M)switch(M){case"referral":w=$e;break;case"audio":w=Ne;break;case"file":w=Fe;break;case"image":w=fe;break;case"sticker":w=fe;break}return w}return(f,M)=>(l(),m(k,null,[_(i).payload&&_(i).payload.reply_to&&_(i).payload.reply_to.story?(l(),m("div",ls,[ns,s("img",{style:{height:"60%"},src:_(i).payload.reply_to.story.url},null,8,rs),o(W,{class:"my-2"})])):y("",!0),_(i).context&&Object.keys(_(i).context).length>0&&c.value?(l(),m("div",ds,[o(We,{onClick:M[0]||(M[0]=w=>t("goToMessage",c.value)),class:"mb-1",border:"start","border-color":"deep-purple accent-4",style:{cursor:"pointer"}},{default:u(()=>[c.value&&c.value.from=="Cliente"?(l(),m("h6",us," Cliente ")):(l(),m("h6",cs,"T\xFA")),g(c.value)?(l(),S(ze(g(c.value)),{key:2,message:c.value},null,8,["message"])):(l(),m("div",{key:3,innerHTML:_(ee)(c.value.text),ref:"target"},null,8,ms))]),_:1}),o(W,{class:"my-2"})])):y("",!0),s("div",{innerHTML:_(ee)(_(i).text),ref:"target"},null,8,hs)],64))}});var fs=ps,gs={components:{BaseLeftRightPartVue:st,AgentsSelector:Da,TodofullLabelsSelector:Na,InfiniteScroll:Ia,UploadImages:At,NegotiationStatusesSelector:za,Countdown:ja,Referral:$e,AudioChat:Ne,FileChat:Fe,ImageChat:fe,TextMessageChat:fs},data(){return{updateCountdown:0,remainingMillis:24*60*60*1e3,selectedFilterNegotiationStatus:null,alertDialog:!1,uploadingImage:!1,uploadDialog:!1,chat:null,chats:[],messages:[],selectedChat:{},selectedPendingMessagesCount:0,text:"",isAgentConnected:!1,dialog:null,isErrorStory:!1,selectedMessage:null,selectedMessageText:null,search:"",fieldsToSearch:["foreign_telefono","foreign_name"],page:1,pageCount:0,tabCategory:2,tabForm:0,searchContact:"",isDataReady:!1,isChatMessageReady:!1,activePlatforms:[],platforms:[{text:"Whatsapp",value:"whatsapp",icon:"mdi-whatsapp",iconClass:"whatsapp-color"},{text:"Instagram",value:"instagram",icon:"mdi-instagram",iconClass:"instagram-color"},{text:"Facebook",value:"facebook",icon:"mdi-facebook-messenger",iconClass:"messenger-color"}],selectedCountry:null,countries:[{value:"Peru",icon:Wa},{value:"Chile",icon:Ga},{value:"Colombia",icon:Xa}],updateLabels:0,updateNegotiationStatus:0,userForm:{name:"",phone:"",email:"",city:"",notes:"",todofullLabels:[]},updateScroll:0,selectedText:"",showMessageOptions:!1,filterChats:void 0,filters:[{text:"Pendientes",value:"pending"},{text:"Sin Bot",value:"no-bot"},{text:"Recientes",value:"recents"}],sellTeams:[],selectedSellTeam:null,teamPermissions:[],isLoadingMore:!1,resetImage:0,image:null,file:null,imageUploaded:!1,fileName:"",fileUrl:"",chatSidebar:null,selectedAgent:null,userPermissions:null,selectedNegotiationStatus:null}},created(){this.chatSidebar=ot(),this.initialize(),V.listPermissions().then(e=>{this.userPermissions=e.data.payload,this.selectedCountry=this.userPermissions.countries[0]}),Nt.list({byAgent:!0}).then(e=>this.sellTeams=e.data.payload)},mounted(){document.addEventListener("mouseup",e=>{(e.target.tagName.toLowerCase()==="p"||e.target.tagName.toLowerCase()==="a"||e.target.tagName.toLowerCase()==="div")&&(e.target.parentElement.classList.contains("chat-msg-text")||e.target.parentElement.classList.contains("hover-text")||e.target.parentElement.classList.length===0)&&this.onSelectedText()})},methods:{pickFile(){this.$refs.file.click()},async initialize(e=1){this.isDataReady=!1;let t={page:this.page||e,search:this.searchContact,fieldsToSearch:this.fieldsToSearch,sort:"updatedAt",order:"desc",limit:50};this.activePlatforms.length>0&&(t.platforms=this.activePlatforms),this.selectedCountry&&(t.selectedCountry=this.selectedCountry),this.filterChats!==void 0&&(t.filterChats=this.filtersSource[this.filterChats].value),this.selectedSellTeam&&(t.teamId=this.selectedSellTeam),this.selectedFilterNegotiationStatus&&(t.negotiationStatusId=this.selectedFilterNegotiationStatus),await Promise.all([this.$store.dispatch("botsModule/list"),this.$store.dispatch("chatsModule/list",t)]),this.chats=this.$store.state.chatsModule.chats,this.isDataReady=!0},async selectChat(e){if(Object.keys(this.selectedChat).length>0&&this.userForm.todofullLabels.length===0&&!(await this.$swal({title:"No se agregaron etiquetas",text:"No agregaste etiquetas a este chat \xBFSeguro que quieres cambiar de chat?",icon:"warning",showCancelButton:!0,cancelButtonText:"Cancelar"})).isConfirmed)return;this.remainingMillis=24*60*60*1e3,this.clearForm(),this.selectedPendingMessagesCount=e.pending_messages_count,j.emit("RESTART_PENDING_MESSAGES",{chatId:e._id}),this.isChatMessageReady=!1,this.selectedChat=e,this.$store.commit("chatsModule/setSelectedChat",e),this.messages=(await $t.listByChat({chatId:e._id,sort:"createdAt",order:"asc",restart_pending_messages:!0})).data.payload,e=(await V.listOne(e._id)).data.payload,this.$store.commit("chatsModule/setMessages",this.messages),this.messages=this.$store.state.chatsModule.messages,this.chat=e,this.selectedChat=e,this.selectedChat.pending_messages_count=0;const t=this.$store.state.botsModule.bots.find(a=>a.fanpageId==e.pageID);if(this.chatSidebar.SET_CURRENT_BOT(t),se(),this.isChatMessageReady=!0,e.platform==="whatsapp"&&(this.remainingMillis=24*60*60*1e3-(Date.now()-new Date(this.selectedChat.last_message.createdAt).getTime()),this.updateCountdown+=1),e.leadId&&(this.userForm.name=e.leadId.sourceName||e.leadId.appName,this.userForm.email=e.leadId.email,this.userForm.city=e.leadId.ciudad,this.userForm.todofullLabels=e.leadId.todofullLabels,this.userForm.notes=e.leadId.nota,this.userForm.phone=""),e.cleanLeadId){this.userForm.phone=e.cleanLeadId.telefono;const a=e.cleanLeadId.details.find(i=>i.fuente===e.leadId.fuente);a&&(this.userForm.name=a.nombre,this.userForm.email=a.email,this.userForm.city=a.ciudad,this.userForm.notes=a.nota),this.userForm.todofullLabels=e.cleanLeadId.todofullLabels}this.selectedNegotiationStatus=e.negotiationStatusId,this.updateLabels+=1,this.updateNegotiationStatus+=1},sendMessage(e,t="Agente",a="text",{url:i}={}){const n=JSON.parse(localStorage.getItem("user"));this.text="",j.emit("AGENT_MESSAGE",{senderId:this.selectedChat.leadId.contactId,chatId:this.selectedChat._id,text:e,pageID:this.selectedChat.pageID,platform:this.selectedChat.platform,payload:{url:i},type:a,userId:n._id}),se()},clearForm(){this.userForm.name="",this.userForm.email="",this.userForm.city="",this.userForm.todofullLabels=[],this.userForm.notes="",this.userForm.phone="",this.selectedAgent=null},connectAgent(e){if(e.isBotActive){e.isBotActive=!1,this.selectedChat.isBotActive=!1,J("Chatbot desactivado correctamente");const t=JSON.parse(localStorage.getItem("user"));let a="\u{1F91D}\u{1F469}\u{1F3FB}\u200D\u{1F4BC} Ahora est\xE1s conversando con el agente "+(t.alias||t.first_name+" "+t.last_name);console.log("CONECTANDO AGENTE"),this.sendMessage(a,"Chatbot"),this.isAgentConnected=!0,V.update(this.selectedChat._id,{isBotActive:!1}),V.addUser(this.selectedChat._id,t._id),se(),j.emit("CONNECT_AGENT",{senderId:this.selectedChat.leadId.contactId,chatId:this.selectedChat._id,text:a,pageID:this.selectedChat.pageID,platform:e.platform}),j.emit("UPDATE_CHAT",{...this.selectedChat})}},endConversation(e){e.isBotActive=!0,J("Chatbot reactivado");const t=JSON.parse(localStorage.getItem("user"));let a=`El agente ${t.alias||t.first_name+" "+t.last_name} se ha desconectado`;this.sendMessage(a,"Chatbot"),this.isAgentConnected=!1,this.selectedChat.userId=null,V.update(this.selectedChat._id,{isBotActive:!0}),j.emit("DISCONNECT_AGENT",{senderId:this.selectedChat.leadId.contactId,chatId:this.selectedChat._id,text:a,pageID:this.selectedChat.pageID,platform:e.platform}),j.emit("UPDATE_CHAT",{...this.selectedChat})},errorStory(){this.isErrorStory=!0},loadStory(){this.isErrorStory=!1},getChatUserData(e){return Ge(e.cleanLeadId.details)},getChatUserName(e){let t=e.cleanLeadId?this.getChatUserData(e):e.leadId?e.leadId.sourceName:"Usuario";return e.leadId&&(e.leadId.sourceName||e.leadId.appName)?e.leadId.sourceName||e.leadId.appName:t?t.nombre:"Usuario"},getPlatformIconStyle(e){return{whatsapp:"mdi-whatsapp whatsapp-color",facebook:"mdi-facebook-messenger messenger-color",instagram:"mdi-instagram instagram-color"}[e]},getProfilePic(e){if(e.leadId)return e.leadId.profile_pic},addPlatform(e){this.page=1,this.activePlatforms.includes(e)?this.activePlatforms=this.activePlatforms.filter(t=>t!==e):this.activePlatforms.push(e),this.initialize()},toggleCountry(e){if(this.selectedCountry===e.value)return this.selectedCountry=null;this.selectedCountry=e.value},mergePermissions(e,t){return e.reduce((a,i)=>{const n=[...a.countries];for(const g of i.countries)n.includes(g)||n.push(g);const c=[...a.platforms];for(const g of i.platforms)c.includes(g)||c.push(g);const r=[...a.status];for(const g of i.status)g.includes(g)||g.push(g);return{...a,countries:n,platforms:c,status:r}},t)},onSelectedAgent(e){this.selectedAgent=e,this.selectedChat.cleanLeadId?(this.selectedChat.cleanLeadId.telefonoId=e,Xe.update(this.selectedChat.cleanLeadId._id,{telefonoId:e._id,estado:"RE-CONECTAR"}),J("Nuevo agente asignado a lead")):(this.selectedChat.leadId.telefonoId=e,qe.update(this.selectedChat.leadId._id,{telefonoId:e._id,assignAgentChat:!0}),J("Nuevo agente asignado a lead"))},onSelectTodofullLabels(e){e.length>0&&(this.userForm.todofullLabels=e)},async saveUserForm(){let e;if(this.userForm.phone){e=await this.$store.dispatch("cleanLeadsModule/create",{telefono:this.userForm.phone,estado:this.selectedChat.cleanLeadId&&this.selectedChat.cleanLeadId.estado?this.selectedChat.cleanLeadId.estado:this.selectedChat.cleanLeadId&&this.selectedChat.cleanLeadId.telefonoId||this.selectedChat.leadId.telefonoId?"RE-CONECTAR":"SIN ASIGNAR",telefonoId:this.selectedChat.leadId.telefonoId?this.selectedChat.leadId.telefonoId._id:null,todofullLabels:this.getIdTodofullLabels(this.userForm.todofullLabels),details:[{type:"CHATBOT",contactId:this.selectedChat.leadId.contactId,fuente:this.selectedChat.leadId.fuente,appName:this.selectedChat.leadId.sourceName||this.selectedChat.leadId.appName,nombre:this.userForm.name,email:this.userForm.email,ciudad:this.userForm.city,nota:this.userForm.notes,pais:this.selectedChat.leadId.pais}]});let t=[this.$store.dispatch("leadsModule/update",{id:this.selectedChat.leadId._id,data:{cleanLeadId:e._id},notifyUser:!1}),this.$store.dispatch("chatsModule/update",{id:this.selectedChat._id,data:{cleanLeadId:e._id},notifyUser:!1})];await Promise.all(t)}else await this.$store.dispatch("leadsModule/update",{id:this.selectedChat.leadId._id,data:{appName:this.userForm.name,email:this.userForm.email,ciudad:this.userForm.city,nota:this.userForm.notes,todofullLabels:this.getIdTodofullLabels(this.userForm.todofullLabels)}});this.$store.dispatch("chatsModule/update",{id:this.selectedChat._id,data:{negotiationStatusId:this.selectedNegotiationStatus},notifyUser:!1})},getFileNameFromUrl(e){return Le(e)},getIdTodofullLabels(e){return e.filter(t=>t).map(t=>typeof t=="object"?t.value:t)},parseMarkdown(e){return ee(e)},formatDate(e,t="dd/MM/yyyy HH:mm"){return Ye(e,t)},formatDateAgo(e){let t=new Date(e);return vt(new Date,t,{addSuffix:!0,locale:fa})},async loadMore(){if(this.isLoadingMore===!0||this.searchContact.trim().length!==0)return;this.isLoadingMore=!0,this.page+=1;let e={page:this.page,limit:50,sort:"updatedAt",order:"desc"};this.activePlatforms.length>0&&(e.platforms=this.activePlatforms),this.selectedCountry&&(e.selectedCountry=this.selectedCountry),this.selectedFilterNegotiationStatus&&(e.negotiationStatusId=this.selectedFilterNegotiationStatus),this.filterChats!==void 0&&(e.filterChats=this.filtersSource[this.filterChats].value);const t=await V.list(e);for(const a of t.data.payload)this.$store.commit("chatsModule/addChatToEnd",a);this.isLoadingMore=!1},undoPendingMessagesCount(){let e=this.selectedPendingMessagesCount===0?1:this.selectedPendingMessagesCount;j.emit("UNDO_PENDING_MESSAGES_COUNT",{count:e,chatId:this.selectedChat._id}),V.undoPendingMessagesCount(this.selectedChat._id,e),J("Conversaci\xF3n marcada como no le\xEDda")},onSelectedText(){this.showMessageOptions=!0,this.selectedText=window.getSelection().toString(),this.selectedMessageText=JSON.parse(JSON.stringify(this.selectedMessage))},getSelectedText(){return window.getSelection().toString()},handleImages(){console.log("aaa"),console.log("\u{1F680} Aqui *** ->  this.$refs.image",this.$refs.image),[this.image]=this.$refs.image.files,this.sendImageMessage()},clear(){this.image=null,this.resetImage+=1,this.imageUploaded=!1},handleFileUpload(){console.log("aaa");const e=this.$refs.file.files;if(this.file=this.$refs.file.files[0],e[0]!==void 0){if(this.fileName=e[0].name,this.fileName.lastIndexOf(".")<=0)return;const t=new FileReader;t.readAsDataURL(e[0]),t.addEventListener("load",()=>{this.fileUrl=t.result})}else this.fileName="",this.fileUrl="";this.sendFileMessage()},async sendImageMessage(){if(this.image){console.log("cargando archivo: ",this.image),this.uploadingImage=!0;let e=new FormData;e.append("file",this.image);const a=(await ke.create(e)).data.payload.url;return this.sendMessage("","Agente","image",{url:a}),this.uploadDialog=!1,this.uploadingImage=!1,this.clear(),a}},async sendFileMessage(){if(this.file){console.log("cargando archivo: ",this.file),this.uploadingImage=!0;let e=new FormData;e.append("file",this.file);const a=(await ke.create(e)).data.payload.url;return console.log("\u{1F680} Aqui *** -> path",a),this.sendMessage("","Agente","file",{url:a}),this.uploadDialog=!1,this.uploadingImage=!1,this.clear(),a}},openUrl(e){window.open(e,"_blank")},selectChatRoom(){this.selectedText=window.getSelection().toString()},onSelectNegotiationStatuses(e){this.selectedNegotiationStatus=e},goToMessage(e){if(e){const t=e._id,a=document.getElementById(t);console.log("\u{1F680} Aqui *** -> element",a),a&&(a.scrollIntoView({behavior:"auto",block:"center",inline:"center"}),a.classList.add("effect-message"),setTimeout(function(){a.classList.remove("effect-message")},3e3))}}},computed:{permissions(){return this.teamPermissions.length?this.mergePermissions(this.teamPermissions,this.userPermissions):this.userPermissions},countriesSource(){return this.permissions?this.countries.filter(e=>this.permissions.countries.includes(e.value)):[]},platformsSource(){return this.permissions?this.platforms.filter(e=>this.permissions.platforms.includes(e.value)):[]},filtersSource(){return this.permissions?this.filters.filter(e=>this.permissions.status.includes(e.value)):[]},filteredChats(){return this.$store.getters["chatsModule/getSortedChats"].filter(e=>!(this.activePlatforms.length>0&&!this.activePlatforms.includes(e.platform)||this.selectedCountry&&e.leadId.pais!==this.selectedCountry))},formattedMessages(){return this.messages.reduce((e,t)=>{let a=e.length>0&&e[e.length-1].from===t.from?e[e.length-1]:null;return a?a.messages.push(t):e.push({from:t.from,messages:[t],date:t.createdAt,_id:t._id}),e},[])},getFieldTextSelection(){return this.selectedText.includes("@")?"email":isNaN(this.selectedText)?"text":"phone"}},watch:{messages(){se()},selectedCountry(){this.page=1,this.initialize()},selectedSellTeam(e){this.page=1,this.initialize(),e?V.listPermissionsByTeams(e).then(t=>this.teamPermissions=t.data.payload):this.teamPermissions=[]},selectedFilterNegotiationStatus(e){this.page=1,this.initialize()},async searchContact(){this.page=1,clearTimeout(this.delayTimer),this.delayTimer=setTimeout(()=>{this.initialize()},600)},filterChats(){this.page=1,this.initialize()},async"$store.state.chatsModule.hasToUpdateSelectedChat"(){if(this.selectedChat)try{const e=(await V.listOne(this.selectedChat._id)).data.payload;e.leadId&&(this.userForm.todofullLabels=e.leadId.todofullLabels),e.cleanLeadId&&(this.userForm.todofullLabels=e.cleanLeadId.todofullLabels),this.updateLabels+=1}catch(e){console.log(e)}}}};const vs={class:"d-flex justify-space-evenly"},_s=["src"],ys={class:"pa-3 border-bottom"},Cs={key:0,class:"pa-3 pt-1"},bs={class:"pa-3 pt-1"},Ss={class:"px-5"},Is=s("div",{class:"px-5"},null,-1),Ms={key:1,class:""},ws=["onClick"],Ts=["src"],ks={class:"msg-detail"},Ls={class:"msg-username"},Ds={class:"msg-content"},As={class:"msg-date"},$s={key:0,class:U({"not-viewed":!0})},Ns={class:"d-flex pa-1 align-center"},Fs=["src"],Ps={class:"user-about"},Vs={style:{display:"inline"}},Us={key:1,class:"h6"},Es=s("span",null,"Tooltip",-1),Os={class:"chat-msg-profile"},Rs=["src"],Bs={class:"chat-msg-date"},js={class:"chat-msg-content"},Hs=["onMouseover"],xs=["id"],zs={key:1,class:"chat-msg-text"},Ws={class:"mb-1"},Gs=["href"],Xs=["src","onClick"],qs=["innerHTML"],Ys={key:2,class:"chat-msg-text"},Js={key:3,class:"chat-msg-text"},Ks={key:4,class:"chat-msg-text"},Qs={key:5,class:"chat-msg-text pa-3"},Zs={key:0},eo={key:1},to={class:"mb-2"},ao=["href"],so={key:1},oo={key:0},io={key:6,class:"chat-msg-text"},lo={key:0,class:"chat-msg-text"},no={class:"chat-area-footer"},ro=s("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"},null,-1),uo=s("circle",{cx:"8.5",cy:"8.5",r:"1.5"},null,-1),co=s("path",{d:"M21 15l-5-5L5 21"},null,-1),mo=[ro,uo,co],ho=s("path",{d:"M21.44 11.05l-9.19 9.19a6 6 0 01-8.49-8.49l9.19-9.19a4 4 0 015.66 5.66l-9.2 9.19a2 2 0 01-2.83-2.83l8.49-8.48"},null,-1),po=[ho],fo=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-smile"},[s("circle",{cx:"12",cy:"12",r:"10"}),s("path",{d:"M8 14s1.5 2 4 2 4-2 4-2M9 9h.01M15 9h.01"})],-1),go=s("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-thumbs-up"},[s("path",{d:"M14 9V5a3 3 0 00-3-3l-4 9v11h11.28a2 2 0 002-1.7l1.38-9a2 2 0 00-2-2.3zM7 22H4a2 2 0 01-2-2v-7a2 2 0 012-2h3"})],-1),vo={key:1,id:"content_section",class:"d-flex justify-center h-100 align-center"},_o=s("h4",null,"Start conversation",-1),yo=[_o],Co=s("h3",{class:"title text-h6"},"Usuario",-1),bo=s("span",null,"Etiquetas",-1),So=s("span",null,"Estados de Negociaci\xF3n",-1),Io={class:"mt-4"},Mo=s("h5",null,"No colocaste etiquetas",-1);function wo(e,t){const a=L("InfiniteScroll"),i=L("Countdown"),n=L("AgentsSelector"),c=L("TextMessageChat"),r=L("Referral"),g=L("ImageChat"),f=L("AudioChat"),M=L("FileChat"),w=L("perfect-scrollbar"),O=L("BaseLeftRightPartVue"),re=L("TodofullLabelsSelector"),C=L("NegotiationStatusesSelector"),R=L("UploadImages");return l(),S(oe,null,{default:u(()=>[o(z,{cols:"12",sm:"9"},{default:u(()=>[o(H,null,{default:u(()=>[o(O,null,{channels:u(()=>[s("div",vs,[(l(!0),m(k,null,N(e.platformsSource,d=>(l(),S(A,{small:"",icon:"",color:"white",onClick:B=>e.addPlatform(d.value),class:U({selected:e.activePlatforms.includes(d.value)}),key:d.value},{default:u(()=>[o(_e,{class:U(d.iconClass)},{default:u(()=>[b(p(d.icon),1)]),_:2},1032,["class"]),o(K,{activator:"parent",anchor:"bottom"},{default:u(()=>[b(p(d.text),1)]),_:2},1024)]),_:2},1032,["onClick","class"]))),128)),o(W,{class:"mt-1",vertical:""}),(l(!0),m(k,null,N(e.countriesSource,d=>(l(),S(A,{small:"",icon:"",color:"white",onClick:B=>e.toggleCountry(d),class:U({selected:e.selectedCountry===d.value})},{default:u(()=>[s("img",{style:{width:"25px"},src:d.icon},null,8,_s),o(K,{activator:"parent",anchor:"bottom"},{default:u(()=>[b(p(d.value),1)]),_:2},1024)]),_:2},1032,["onClick","class"]))),256))])]),leftpart:u(()=>[s("div",ys,[o(Q,{label:"Buscar contacto",variant:"outlined",density:"compact","hide-details":"",modelValue:e.searchContact,"onUpdate:modelValue":t[0]||(t[0]=d=>e.searchContact=d)},null,8,["modelValue"])]),e.sellTeams.length?(l(),m("div",Cs,[o(pe,{modelValue:e.selectedSellTeam,"onUpdate:modelValue":t[1]||(t[1]=d=>e.selectedSellTeam=d),items:e.sellTeams,"item-title":"nombre","item-value":"_id",variant:"outlined",density:"compact","hide-details":"",clearable:"",placeholder:"Filtrar por equipo"},null,8,["modelValue","items"])])):y("",!0),s("div",bs,[o(pe,{modelValue:e.selectedFilterNegotiationStatus,"onUpdate:modelValue":t[2]||(t[2]=d=>e.selectedFilterNegotiationStatus=d),items:this.$store.state.negotiationStatusesModule.negotiationStatuses,"item-title":"name","item-value":"_id",variant:"outlined",density:"compact","hide-details":"",clearable:"",placeholder:"Filtrar por estado de negociaci\xF3n"},null,8,["modelValue","items"])]),s("div",Ss,[o(oe,null,{default:u(()=>[o(z,{cols:"12",sm:"9"},{default:u(()=>[o(Je,{modelValue:e.filterChats,"onUpdate:modelValue":t[3]||(t[3]=d=>e.filterChats=d),"active-class":"primary--text"},{default:u(()=>[(l(!0),m(k,null,N(e.filtersSource,d=>(l(),S(he,{color:"success",multiple:!1,size:"small",key:d},{default:u(()=>[s("strong",null,p(d.text),1)]),_:2},1024))),128))]),_:1},8,["modelValue"])]),_:1}),o(z,{cols:"12",sm:"3"},{default:u(()=>[s("h6",null,p(e.$store.state.chatsModule.total)+" - "+p(e.$store.state.chatsModule.chats.length),1)]),_:1})]),_:1})]),Is,o(Ke,null,{default:u(()=>[e.isDataReady?(l(),m("div",Ms,[(l(),S(a,{key:e.updateScroll,onLoadMore:e.loadMore},{loading:u(()=>[]),default:u(()=>[(l(!0),m(k,null,N(e.filteredChats,(d,B)=>(l(),m("div",{class:U({msg:!0,online:!0,"chat-active":e.selectedChat&&d._id==e.selectedChat._id}),key:B,onClick:G=>e.selectChat(d)},[s("img",{class:"msg-profile",src:e.getProfilePic(d)||"/assets/images/users/3.jpg",width:"45",alt:""},null,8,Ts),s("div",ks,[s("div",Ls,[s("i",{class:U(`mr-2 mdi text-h7 ${e.getPlatformIconStyle(d.platform)}`)},null,2),b(" "+p(e.getChatUserName(d)),1)]),s("div",Ds,[s("span",{class:U({"msg-message":!0,"bold-text":d.pending_messages_count>0})},p(d.lastMessage?d.lastMessage.text:""),3),s("span",As,p(e.formatDate(d.updatedAt,"HH:mm")),1),d.pending_messages_count>0?(l(),m("div",$s,p(d.pending_messages_count),1)):y("",!0)])])],10,ws))),128))]),_:1},8,["onLoadMore"]))])):(l(),S(ce,{key:0,class:"v-progress-linear",indeterminate:"",color:"primary"}))]),_:1})]),rightpart:u(()=>{var d,B,G,X;return[Object.keys(e.selectedChat).length>0?(l(),m(k,{key:0},[s("div",Ns,[o(Qe,{size:"35",class:"mr-3"},{default:u(()=>[s("img",{src:e.getProfilePic(e.selectedChat)||"/assets/images/users/3.jpg",width:"45"},null,8,Fs)]),_:1}),s("div",Ps,[s("h4",Vs,[s("i",{class:U(`mr-2 mdi text-h7 ${e.getPlatformIconStyle(e.selectedChat.platform)}`)},null,2),b(" "+p(e.getChatUserName(e.selectedChat)),1)]),e.selectedChat.platform==="whatsapp"?(l(),S(i,{millis:e.remainingMillis,key:e.updateCountdown},null,8,["millis"])):y("",!0),e.selectedChat.leadId&&e.selectedChat.leadId.follower_count?(l(),m("span",Us,[s("b",null,"("+p(e.selectedChat.leadId.follower_count),1),b(" Seguidores)")])):y("",!0)]),o(Ze),o(A,{onClick:e.undoPendingMessagesCount,fab:"",large:"",color:"bot",class:"undo-pending-message mr-2"},{default:u(()=>[o(_e,{class:"wechat-color"},{default:u(()=>[b("mdi-wechat")]),_:1}),o(K,{activator:"parent",anchor:"bottom"},{default:u(()=>[b("Marcar como no le\xEDdo")]),_:1})]),_:1},8,["onClick"]),o(K,{top:""},{activator:u(({on:v,attrs:h})=>[o(A,et({disabled:e.remainingMillis<=0,size:"small"},h,tt(v),{onClick:t[4]||(t[4]=T=>e.selectedChat.isBotActive?e.connectAgent(e.selectedChat):e.endConversation(e.selectedChat)),icon:"mdi-robot",color:e.selectedChat.isBotActive?"success":"error"}),null,16,["disabled","color"])]),default:u(()=>[Es]),_:1}),o(n,{telefonoId:e.selectedChat.cleanLeadId?(B=(d=e.selectedChat.cleanLeadId)==null?void 0:d.telefonoId)==null?void 0:B._id:(X=(G=e.selectedChat.leadId)==null?void 0:G.telefonoId)==null?void 0:X._id,onOnSelectedAgent:e.onSelectedAgent},null,8,["telefonoId","onOnSelectedAgent"])]),o(W),s("div",{class:"chat-room pa-4",onClick:t[9]||(t[9]=(...v)=>e.selectChatRoom&&e.selectChatRoom(...v))},[D(o(ce,{class:"v-progress-linear",indeterminate:"",color:"primary"},null,512),[[$,!e.isChatMessageReady]]),D(o(w,{class:"chat-room-box-height",id:"content_section"},{default:u(()=>[(l(!0),m(k,null,N(e.formattedMessages,v=>(l(),m("div",{key:v._id,class:U({"chat-msg":!0,"ma-0":!0,"pa-0":!0,owner:v.from!="Cliente"})},[s("div",Os,[s("img",{class:"chat-msg-img",src:v.from=="Chatbot"?"/assets/images/users/bot.jpg":v.from=="Agente"?"/assets/images/users/3.jpg":e.getProfilePic(e.selectedChat)||"/assets/images/users/3.jpg",alt:""},null,8,Rs),s("div",Bs,p(e.formatDate(v.date)),1)]),s("div",js,[(l(!0),m(k,null,N(v.messages,h=>(l(),m("div",{class:"mb-1 hover-text",key:h._id,onMouseover:T=>e.selectedMessage=h},[D(o(H,{class:"tooltip-text",style:"visibility:visible",id:"top"},{default:u(()=>[o(at,{divided:""},{default:u(()=>[D(o(A,{onClick:t[5]||(t[5]=T=>{e.userForm.name=e.selectedText,e.saveUserForm(),e.showMessageOptions=!1}),icon:"mdi-account"},null,512),[[$,e.getFieldTextSelection=="text"]]),D(o(A,{onClick:t[6]||(t[6]=T=>{e.userForm.phone=e.selectedText,e.saveUserForm(),e.showMessageOptions=!1}),icon:"mdi-cellphone"},null,512),[[$,e.getFieldTextSelection=="phone"]]),D(o(A,{onClick:t[7]||(t[7]=T=>{e.userForm.email=e.selectedText,e.saveUserForm(),e.showMessageOptions=!1}),icon:"mdi-email"},null,512),[[$,e.getFieldTextSelection=="email"]]),D(o(A,{onClick:t[8]||(t[8]=T=>{e.userForm.city=e.selectedText,e.saveUserForm(),e.showMessageOptions=!1}),icon:"mdi-city"},null,512),[[$,e.getFieldTextSelection=="text"]])]),_:1})]),_:2},1536),[[$,e.selectedText&&e.showMessageOptions&&this.selectedMessage&&this.selectedMessage._id==h._id&&this.selectedMessageText._id==this.selectedMessage._id]]),h.type==="text"||!h.type?(l(),m("div",{key:0,class:"chat-msg-text",id:h._id},[o(c,{message:h,messages:e.messages,onGoToMessage:e.goToMessage},null,8,["message","messages","onGoToMessage"])],8,xs)):y("",!0),h.type==="comment"?(l(),m("div",zs,[s("div",null,[s("b",Ws,[b("Hice un comentario en esta "),s("a",{href:h.payload.post_url,target:"_blank"},"publicaci\xF3n",8,Gs)]),h.payload.media_type==="IMAGE"?(l(),m("img",{key:0,src:h.payload.media_url,style:{cursor:"pointer",height:"60%"},onClick:T=>e.openUrl(h.payload.post_url)},null,8,Xs)):y("",!0),o(W,{class:"my-2"})]),s("div",{innerHTML:e.parseMarkdown(h.text),ref_for:!0,ref:"target"},null,8,qs)])):y("",!0),h.type==="referral"?(l(),m("div",Ys,[o(r,{message:h},null,8,["message"])])):y("",!0),h.type==="image"||h.type==="sticker"?(l(),m("div",Js,[o(g,{message:h},null,8,["message"])])):y("",!0),h.type==="audio"?(l(),m("div",Ks,[o(f,{message:h},null,8,["message"])])):y("",!0),h.type==="template"?(l(),m("div",Qs,[o(oe,{justify:"center ma-2"},{default:u(()=>[h.payload.hasOwnProperty("product")?(l(),m("div",Zs,[o(ye,{class:"rounded-corners",src:h.payload.product.elements[0].image_url,"aspect-ratio":"1",contain:""},null,8,["src"]),o(H,{color:"#F0F2F5",outlined:"",class:"pa-3",width:"200"},{default:u(()=>[s("strong",null,p(h.payload.product.elements[0].title),1),s("p",null,p(h.payload.product.elements[0].subtitle),1)]),_:2},1024)])):(l(),m("div",eo,[o(ye,{class:"rounded-corners ma-0 pa-0",src:h.payload.attachment.payload.elements[0].image_url,"aspect-ratio":"1",contain:"",onClick:T=>e.openUrl(h.payload.post_url)},null,8,["src","onClick"]),o(H,{color:"#F0F2F5",outlined:"",class:"pa-3 mb-1",width:"200"},{default:u(()=>[s("strong",null,p(h.payload.attachment.payload.elements[0].title),1),s("p",to,p(h.payload.attachment.payload.elements[0].subtitle),1),(l(!0),m(k,null,N(h.payload.attachment.payload.elements[0].buttons,(T,de)=>(l(),S(A,{key:de,small:"",class:"wrapText mb-2",block:"",outlined:"",color:"primary"},{default:u(()=>[T.type=="web_url"?(l(),m("a",{key:0,href:T.url,target:"_blank"},p(T.title),9,ao)):(l(),m("span",so,[b(p(T.title)+" ",1),o(K,{activator:"parent",anchor:"bottom"},{default:u(()=>[b(p(T.payload),1)]),_:2},1024)]))]),_:2},1024))),128))]),_:2},1024),h.payload.quick_replies?(l(),m("div",oo,[(l(!0),m(k,null,N(h.payload.quick_replies,(T,de)=>(l(),S(he,{multiple:!1,size:"small",key:de},{default:u(()=>[s("strong",null,p(T.title),1)]),_:2},1024))),128))])):y("",!0)]))]),_:2},1024)])):y("",!0),h.type==="file"?(l(),m("div",io,[o(M,{message:h},null,8,["message"])])):y("",!0)],40,Hs))),128))])],2))),128)),e.uploadingImage?(l(),m("div",lo,[o(ce,{class:"v-progress-linear",indeterminate:"",color:"primary"})])):y("",!0)]),_:1},512),[[$,e.isChatMessageReady]])]),s("div",no,[(l(),m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-image",onClick:t[10]||(t[10]=v=>e.uploadDialog=!0)},mo)),(l(),m("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-paperclip",onClick:t[11]||(t[11]=(...v)=>e.pickFile&&e.pickFile(...v))},po)),s("input",{type:"file",id:"file",ref:"file",accept:`application/msword, application/vnd.ms-excel, application/vnd.ms-powerpoint,\r
text/plain, application/pdf`,capture:"",onChange:t[12]||(t[12]=(...v)=>e.handleFileUpload&&e.handleFileUpload(...v)),style:{display:"none"}},null,544),o(Ce,{modelValue:e.text,"onUpdate:modelValue":t[13]||(t[13]=v=>e.text=v),class:"mx-1",name:"input-4-1",rows:"2",variant:"outlined","hide-details":"","no-resize":"",onKeyup:t[14]||(t[14]=be(Z(v=>e.sendMessage(e.text,"Agente","text"),["exact","prevent"]),["enter"])),onKeydown:t[15]||(t[15]=be(Z(v=>e.text+=`
`,["shift","exact","prevent"]),["enter"])),label:e.selectedChat.isBotActive?"Desactiva el chatbot para intervenir chat":e.remainingMillis<=0?"No se pueden enviar mensaje pasadas las 24h en WhatsApp":"Escribe y presiona Enter",disabled:e.selectedChat.isBotActive||e.remainingMillis<=0},null,8,["modelValue","label","disabled"]),fo,go])],64)):(l(),m("div",vo,yo))]}),detailpart:u(()=>[]),_:1})]),_:1})]),_:1}),e.selectedChat?(l(),S(z,{key:0,cols:"12",sm:"3"},{default:u(()=>[o(H,{style:{"background-color":"#ffffff"},class:"detail-part"},{default:u(()=>[o(Se,{class:"pa-5 border-bottom"},{default:u(()=>[Co,s("h4",null," Fuente: "+p(e.$store.state.botsModule.bots.find(d=>d.fanpageId==e.selectedChat.pageID)?e.$store.state.botsModule.bots.find(d=>d.fanpageId==e.selectedChat.pageID).name:"Sin fuente"),1)]),_:1}),o(W),o(Se,{class:"pa-5 border-bottom"},{default:u(()=>[o(Q,{density:"compact","hide-details":"",variant:"outlined",label:"Nombres",placeholder:"Nombres","append-icon":"mdi-account",modelValue:e.userForm.name,"onUpdate:modelValue":t[16]||(t[16]=d=>e.userForm.name=d),class:"mb-2"},null,8,["modelValue"]),o(Q,{density:"compact","hide-details":"",variant:"outlined",label:"Tel\xE9fonos",placeholder:"Tel\xE9fonos","append-icon":"mdi-cellphone",modelValue:e.userForm.phone,"onUpdate:modelValue":t[17]||(t[17]=d=>e.userForm.phone=d),class:"mb-2"},null,8,["modelValue"]),o(Q,{density:"compact","hide-details":"",variant:"outlined",label:"Correo",placeholder:"Correo","append-icon":"mdi-email",modelValue:e.userForm.email,"onUpdate:modelValue":t[18]||(t[18]=d=>e.userForm.email=d),class:"mb-2"},null,8,["modelValue"]),o(Q,{density:"compact","hide-details":"",variant:"outlined",label:"Ciudad",placeholder:"Ciudad","append-icon":"mdi-city",modelValue:e.userForm.city,"onUpdate:modelValue":t[19]||(t[19]=d=>e.userForm.city=d),class:"mb-2"},null,8,["modelValue"]),bo,(l(),S(re,{initialData:e.userForm.todofullLabels,class:"my-3",onOnSelectTodofullLabels:e.onSelectTodofullLabels,key:e.updateLabels},null,8,["initialData","onOnSelectTodofullLabels"])),So,(l(),S(C,{initialData:e.selectedNegotiationStatus,class:"my-3",onOnSelectNegotiationStatuses:e.onSelectNegotiationStatuses,key:e.updateNegotiationStatus},null,8,["initialData","onOnSelectNegotiationStatuses"])),o(Ce,{density:"compact","hide-details":"",variant:"outlined",clearable:"","clear-icon":"mdi-close-circle",label:"Notas",modelValue:e.userForm.notes,"onUpdate:modelValue":t[20]||(t[20]=d=>e.userForm.notes=d),class:"mb-2"},null,8,["modelValue"]),s("div",Io,[o(A,{color:"success",onClick:e.saveUserForm,variant:"outlined",class:"text-capitalize mr-2"},{default:u(()=>[b("Guardar")]),_:1},8,["onClick"])])]),_:1})]),_:1})]),_:1})):y("",!0),o(Me,{modelValue:e.uploadDialog,"onUpdate:modelValue":t[21]||(t[21]=d=>e.uploadDialog=d),style:{"max-width":"800px"}},{default:u(()=>[o(H,null,{default:u(()=>[o(Ie,{class:"pa-5"},{default:u(()=>[(l(),S(R,{key:e.resetImage,value:"/uploads/grodnobot.png",ref:"image",onChange:e.handleImages,onDrop:e.handleImages,max:1,uploadMsg:"Click para insertar o arrastrar una imagen",fileError:"Solo se aceptan archivos im\xE1genes",clearAll:"Borrar todo",class:"mb-2"},null,8,["onChange","onDrop"]))]),_:1})]),_:1})]),_:1},8,["modelValue"]),o(Me,{modelValue:e.alertDialog,"onUpdate:modelValue":t[22]||(t[22]=d=>e.alertDialog=d)},{default:u(()=>[o(H,null,{default:u(()=>[o(Ie,{class:"pa-5"},{default:u(()=>[Mo,s("div",null,[o(A,{color:"success"},{default:u(()=>[b("Continuar")]),_:1}),o(A,{color:"error"},{default:u(()=>[b("Cancelar")]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}var Ao=x(gs,[["render",wo]]);export{Ao as default};
